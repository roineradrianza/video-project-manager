class Project{constructor(){this.video=new ProjectVideo({}),this.alert=!0,this.alert_type="",this.alert_message="",this.snackbar=!1,this.snackbar_timeout=3e3,this.snackbar_text="",this.dialog=!1,this.show_dialog=!1,this.loading=!1,this.edit_loading=!1,this.form=!0,this.endpoint="projects",this.project={name:""},this.default={name:""},this.index=-1,this.items=[]}reset(){this.loading=!1,this.alert=!1,this.project=Object.assign({},this.default),this.video.reset(),this.index=-1}load(){let t=this,e=api_url+`${t.endpoint}/get/`;t.loading=!0,t.items=[],Http.get(e).then(e=>{e.length>0&&(t.items=e),t.loading=!1},e=>{t.response({type:"error"})})}save(){let t=this;if(t.loading=!0,t.index>=0){let e=api_url+`${t.endpoint}/update`;Http.put(e,t.project).then(e=>{t.response(e.status,e.message),"success"==e.status&&t.load(),t.dialog=!1,t.reset()},e=>{t.response("error")})}else{let e=api_url+`${t.endpoint}/create`;Http.post(e,t.project).then(e=>{t.response(e.status,e.message),"success"==e.status&&(t.project.project_id=e.data.project_id,t.items.push(t.project)),t.dialog=!1,t.reset()},e=>{t.response("error")})}}showItem(t){this.index=this.items.indexOf(t),this.video=new ProjectVideo({project_id:t.project_id}),this.project=Object.assign({},t),this.show_dialog=!0}editItem(t){this.index=this.items.indexOf(t),this.project=Object.assign({},t),this.dialog=!0}deleteItem(t){this.index=this.items.indexOf(t),this.project=Object.assign({},t),this.delete_dialog=!0}delete(){let t=this;t.loading=!0;let e=api_url+`${t.endpoint}/delete/${t.project.project_id}`;Http.delete(e).then(e=>{t.response(e.status,e.message),"success"==e.status&&(t.load(),t.delete_dialog=!1),t.reset()},e=>{t.response("error")})}response(t="",e=""){this.loading=!1,this.alert=!0,this.alert_type=t,this.snackbar=!0,this.snackbar_timeout=3e3,this.alert_message,this.snackbar_text=e}editDialog(t){this.project=Object.assign({},t),this.index=this.items.indexOf(t),this.dialog=!0}deleteDialog(t){this.project=Object.assign({},t),this.index=this.items.indexOf(t),this.delete_dialog=!0}}